#pragma once
#include <iostream>
#include <memory>

#include <glm/glm.hpp>
#include <PerlinNoise.hpp>
#include <engine/world_object/world_object.hpp>

class Chunk {
public:
   Chunk(glm::vec2 position, siv::PerlinNoise noise, VkCommandPool commandPool, VkQueue graphicsQueue, Material* inputMaterial);

   std::unique_ptr<TexturedWorldObject> chunkRenderableObject;

private:
   const int chunkSize = 200;
   int world[200][200];
   std::vector<Vertex> singleCube { 
      {{-1, -1, -1},{4, 0, 0},{1, 0}},
      {{-1, -1, 1},{4, 0, 0},{1, 1}},
      {{-1, 1, 1},{4, 0, 0},{0, 0}},
      {{1, 1, -1},{0, 0, 4},{1, 0}},
      {{-1, -1, -1},{0, 0, 4},{1, 1}},
      {{-1, 1, -1},{0, 0, 4},{0, 0}},
      {{1, -1, 1},{0, 4, 0},{1, 0}},
      {{-1, -1, -1},{0, 4, 0},{1, 1}},
      {{1, -1, -1},{0, 4, 0},{0, 0}},
      {{1, 1, -1},{0, 0, 4},{1, 0}},
      {{1, -1, -1},{0, 0, 4},{1, 1}},
      {{-1, -1, -1},{0, 0, 4},{0, 0}},
      {{-1, -1, -1},{4, 0, 0},{1, 0}},
      {{-1, 1, 1},{4, 0, 0},{1, 1}},
      {{-1, 1, -1},{4, 0, 0},{0, 0}},
      {{1, -1, 1},{0, 4, 0},{1, 0}},
      {{-1, -1, 1},{0, 4, 0},{1, 1}},
      {{-1, -1, -1},{0, 4, 0},{0, 0}},
      {{-1, 1, 1},{0, 0, -4},{1, 0}},
      {{-1, -1, 1},{0, 0, -4},{1, 1}},
      {{1, -1, 1},{0, 0, -4},{0, 0}},
      {{1, 1, 1},{-4, 0, -0},{1, 0}},
      {{1, -1, -1},{-4, 0, -0},{1, 1}},
      {{1, 1, -1},{-4, 0, -0},{0, 0}},
      {{1, -1, -1},{-4, 0, 0},{1, 0}},
      {{1, 1, 1},{-4, 0, 0},{1, 1}},
      {{1, -1, 1},{-4, 0, 0},{0, 0}},
      {{1, 1, 1},{0, -4, -0},{1, 0}},
      {{1, 1, -1},{0, -4, -0},{1, 1}},
      {{-1, 1, -1},{0, -4, -0},{0, 0}},
      {{1, 1, 1},{-0, -4, 0},{1, 0}},
      {{-1, 1, -1},{-0, -4, 0},{1, 1}},
      {{-1, 1, 1},{-0, -4, 0},{0, 0}},
      {{1, 1, 1},{-0, -0, -4},{1, 0}},
      {{-1, 1, 1},{-0, -0, -4},{1, 1}},
      {{1, -1, 1},{-0, -0, -4},{0, 0}}
   };

   std::unique_ptr<Mesh> chunkMesh;
};
